# AWS現場作業内容 2024-2025　まとめ


## 使用技術
基盤：AWSクラウド、オンプレミスのハイブリッドクラウド
サーバー：EC2 （AmazonLinux2023）
ミドル：Nginx（v1.24）　一時検証時に1.26使用
DB：Aurora MySQL v8.0 グローバルデータベース
ネットワーク：インターネット＋外部CDNAkamai経由パブリックとDirectConnectのプライベート接続
セキュリティ：aws NetworkFirewall
ストレージ：S3
アプリケーション：
  クライアントサイド：Vue　（axsios,ajax)
  サーバーサイド：Spring Boot (JPA,websocket)

その他小規模処理など
・Lambda（Python3.13）
・StepFunction
・EventBredge

一時的な検証時に操作したもの
ElastiChach Redis


## 業務内容について
大枠のアーキテクチャー図として、アクセスがインターネットorDirectConnectかとそれぞれのサーバー種類の話から始まり以下作業を独力で実施。
【設計】
・冗長構成の設計
・アーキテクチャー図の作成
・DR戦略ごとの見積もりの作成とお客様への提出
・追加要件として、セキュリティのAWS NetWorkFireWall構成の設計と見積もり作成
・別機能を作成するベンダーの機能要件の確認とその冗長化フェイルオーバー構成の設計作成、打ち合わせ
・全体の通信要件の聴取と管理表の作成
【製造】
・ネットワーク
  DirectConnect接続についての打ち合わせとAWS側の実装
  NetWorkFirewall構成の設計、設定、構築
  VPC内ネットワーク構成
  CDN(Akamai）への連携構成の設計
・サーバー
  EC2のOS設定（rsyslog,cron,userdata,nginx)
  ELB、Asgの設定構築
・DB
  Auroraの構築
  フェイルオーバー設定
・サーバーレス
  Lambda、StepFunctiopns、EventBredgeのイベント処理、バッチ処理の作成
・モニタリング
  CloudWatchアラーム、アクションの構築
・アプリケーション運用
  デプロイ方法の製造
・監査
  ロギング設定（サーバー、DB、VPCフロー）
  config、SecurityHubの構築
・権限
  AWSアカウント運用の構築と管理者への教育
  IAM関係
【その他】
開発メンバーへのAWS操作のサポート


## 最も使用した技術
  - IaC
  理由：一人作業、思いつきでの製造検証のタスク割、冗長構成、コストは常に意識が必要などの現場環境であったため
  実運用では、私が抜けた後に運用できないためIaCが禁止だったが、開発作業において、コストの関係でクラウドリソースを常設できない状況で設定を保持しつつ高速かつ容易に環境を構築、削除できる
  ことはかなりメリットしかなかった。
  また。１人で複数人の開発担当から同時に構築を命じられる機会、飛び込みの環境再現の指示なども多々あり、インフラ一対開発多の現場環境で使えないともっと苦労したと思います。

## 最も使ったツール
  - draw.io
  アーキテクチャー図の作成にしよう。
  最初期に見積もり表などから実構築を立てて視覚的にわかりやすくする方針でいってみたが、かなり好評だった。
  - ChetGPT
  CloudFormationのStackやLinuxShell、Nginx設定などで、やりたいことがわかっているが、どうするんだっけレベルのことをやってくれるので重宝します。
  Lambdaも書かせてました。

## ないと困った知識と経験
  - 開発経験
  アプリのコードみて必要なこと拾ったり、そもそもWebSoket、Rest,JPA,Ajaxなどでこんな処理は大丈夫ですかなど聞かれた際に知ってないと答えられない。
  アプリをビルドデプロイくらいはできないと仕事にならない。

## 自分に不足していたもの
  - テスト観点
  過去の先人のサンプルなどはチリも存在せず。最もわからず指摘を受けそして苦戦しました。
  アプリとは全く異なる観点として学習中した。ネットワーク、イベント、ログ、OS設定などなど観点として理解した
  - LinuxのOS初期設定の基本
  何をインストールして、設定すべきかのポピュラーなものがわからなかった。
  「はい作って設定してレビュー出して」で全ては始まるが、ヤケクソで作成して死ぬ前提でレビューに出した結果とにかく色々経験を積むことができた。
  おかげでデーモン、ミドル、Cron、ロギング、セキュリティ、ポート管理、アプリの設置、モニタリング、ネットワークやLinuxからの通信テストなど  
  主要な階層は理解して、構築できて、会話でイメージしつつどこをどう修正作業や何をいれてどう作っているなど話もできるようなりました。

## 得られた実務経験（独学は記載しない）
  - Linux設定構築
  - VPCネットワーク構築
  - DirectConnect ネットワーク構築
  - NetworkFirewall構築
  - 冗長化構成設計・構築
  - Lambda構築
  - 運用保守設計・構築
  - AWSアカウント運用設計、構築、指導
  - Aurora Global Databases構築
  - AWS設計と見積もり作成

## 最後に
インフラ担当１人でやらせていただき、他開発メンバーの初学者やアカウント所持者のチームリーダーに操作、運用などを指導させてもらいつつ、
お客様やサポートのAWSの方とともにNetWorkFireWallの構築の選定会議などで私が作成した構築設計をもとに、いろんな観点から構成を選定するなどを経験させてもらいました。
振り返ってみると、今まではお客様に対しては一部の補助的な説明のための会議参加などだったのが、担当者として話すことをやっていたためちょっと上位の業務経験できたと確認できました。

私自身はちゃんと業務はできていると思いますが、
実際にシステムを運用する会社の社員の方が、AWSの話についていけないことが多々あり、そこに対しての説明力？などを必要なものを見つけ高めることが次の課題だと思います。



